<div class="flight-wrapper">
  <div class="container">

    <form (ngSubmit)="searchFlights()" class="search-form">

      <!-- FROM DROPDOWN -->
      <select
        [(ngModel)]="form.from"
        name="from"
        required
      >
        <option value="" disabled selected>Select From City</option>
        <option *ngFor="let city of cities" [value]="city">
          {{ city }}
        </option>
      </select>

      <!-- TO DROPDOWN -->
      <select
        [(ngModel)]="form.to"
        name="to"
        required
      >
        <option value="" disabled selected>Select To City</option>
        <option *ngFor="let city of cities" [value]="city">
          {{ city }}
        </option>
      </select>

      <!-- DATE -->
      <input
  type="date"
  [(ngModel)]="form.date"
  name="date"
  [min]="minDate"
  required
/>

      <button type="submit">Search</button>
    </form>

    <hr />

    <h2 *ngIf="searched">Available Flights</h2>

    <div *ngIf="searched && flights.length === 0">
      <p>No flights found.</p>
    </div>

    <div class="flight-card" *ngFor="let flight of flights">
      <p><strong>Airline:</strong> {{ flight.airlineName }}</p>
      <p><strong>From:</strong> {{ flight.fromPlace }}</p>
      <p><strong>To:</strong> {{ flight.toPlace }}</p>
      <p><strong>Date:</strong> {{ flight.departure | date:'medium' }}</p>
      <p><strong>Price:</strong> â‚¹{{ flight.price }}</p>
      <p><strong>Seats:</strong> {{ flight.availableSeats }}</p>

      <button class="book-btn" (click)="bookFlight(flight.id)">
        Book
      </button>
    </div>

  </div>
</div>
