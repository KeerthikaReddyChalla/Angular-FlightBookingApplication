<div class="dashboard-container">

  <h2>My Booking History</h2>

  <div *ngIf="loading">
    <p>Loading bookings...</p>
  </div>

  <div *ngIf="!loading && bookings.length === 0">
    <p>No bookings found.</p>
  </div>

  <div class="booking-card" *ngFor="let booking of bookings">

    <p><strong>PNR:</strong> {{ booking.pnr }}</p>
    <p><strong>Flight:</strong> {{ booking.flightId }}</p>
    <p><strong>Email:</strong> {{ booking.email }}</p>
    <p><strong>Passengers:</strong> {{ booking.passengers?.length }}</p>
    <p>
      <strong>Booked On:</strong>
      {{ booking.bookingTime | date:'medium' }}
    </p>

    <!-- STATUS -->
    <p class="status cancelled" *ngIf="booking.cancelled">
      ‚ùå Cancelled
    </p>

    <!-- CANCEL BUTTON -->
    <button
      class="cancel-btn"
      *ngIf="!booking.cancelled"
      (click)="cancelBooking(booking.pnr)"
    >
      Cancel Ticket
    </button>

  </div>

</div>
